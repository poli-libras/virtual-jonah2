function load_model_json(a,b){function c(a){var c=new THREE.SkinnedMesh(a,new THREE.MeshLambertMaterial);c.material.skinning=!0,b(c)}var d=new THREE.JSONLoader;d.load(a,c)}this.vj2=this.vj2||{},function(){"use strict";function a(a){this.human_model=a}var b=a.prototype;b.create_upper_limbs=function(){var a=this.create_arm_bones("LEFT"),b=this.create_arm_bones("RIGHT"),c=this.create_hand("LEFT"),d=this.create_hand("RIGHT");this.upper_limbs_left=new vj2.Upper_limbs(c,a,"LEFT"),this.upper_limbs_right=new vj2.Upper_limbs(d,b,"RIGHT")},b.update_left=function(a,b,c,d){this.upper_limbs_left.update(a,b,c,d)},b.update_right=function(a,b,c,d){this.upper_limbs_right.update(a,b,c,d)},b.update_both=function(a,b,c,d){this.upper_limbs_right.update(a,b,c,d),this.upper_limbs_left.update(a,b,c,d)},b.update_wrist=function(a,b,c){this.upper_limbs_right.update_wrist(a,b,c),this.upper_limbs_left.update_wrist(a,b,c)},b.set_shape=function(a){this.upper_limbs_right.set_shape(a),this.upper_limbs_left.set_shape(a)},b.animation=function(a){this.upper_limbs_right.animation(a),this.upper_limbs_left.animation(a)},b.get_bone=function(a){for(var b=this.human_model.skeleton.bones,c=0;c<b.length;c++)if(b[c].name==a)return b[c]},b.create_arm_bones=function(a){var b=this.get_bone("UpArm_"+a.charAt(0)).quaternion,c=this.get_bone("LoArm_"+a.charAt(0)).quaternion,d=this.get_bone("Hand_"+a.charAt(0)).quaternion;return new vj2.Arm_bones(b,c,d,a)},b.create_hand=function(a){for(var b=[],c=1;5>=c;c++)b.push(this.create_finger(c,a));return new vj2.Hand(b[0],b[1],b[2],b[3],b[4],a)},b.create_finger=function(a,b){for(var c=[],d=1;3>=d;d++)c.push(this.get_bone("Finger-"+a+"-"+d+"_"+b.charAt(0)).quaternion);return new vj2.Finger(c[0],c[1],c[2],b)},vj2.Action_upper_limbs=a}(),this.vj2=this.vj2||{},function(){"use strict";function a(a,b){this.quaternion=a,this.quaternion_next=a.clone(),this.quaternion_prev=a.clone(),this.duration=b,this.current_time=b,this.eulerHelper=new THREE.Euler(0,0,0),this.quaternionHelper=new THREE.Quaternion(0,0,0)}var b=a.prototype;b.update_rotation=function(a,b,c){this.eulerHelper.set(a,b,c),this.quaternionHelper.setFromEuler(this.eulerHelper),this.quaternion_next.multiply(this.quaternionHelper)},b.set_rotation=function(a,b,c){this.eulerHelper.set(a,b,c),this.quaternion_next.setFromEuler(this.eulerHelper)},b.update=function(a){this.interpolate(this.current_time/this.duration),this.current_time-=Math.min(a,this.current_time)},b.interpolate=function(a){THREE.Quaternion.slerp(this.quaternion_next,this.quaternion_prev,this.quaternion,a),0===a&&this.update_rotation_prev()},b.update_rotation_prev=function(){this.quaternion_prev.copy(this.quaternion_next)},b.reset_animation=function(){this.current_time=this.duration},vj2.Animated_bone=a}(),this.vj2=this.vj2||{},function(){"use strict";function a(a,b,c,d){this.up_arm=new vj2.Animated_bone(a,1.5),this.lo_arm=new vj2.Animated_bone(b,1.5),this.wrist=new vj2.Animated_bone(c,1.5),this.direction=d,this.loc=null,this.json_arm_left_pose={ESPACO_NEUTRO:{up:{x:-1.333,y:-1.333,z:-1.333},lo:{x:0,y:-.1333,z:0},wrist:{x:0,y:0,z:1.33}},ORELHA:{up:{x:-1.33,y:0,z:0},lo:{x:0,y:-2,z:0},wrist:{x:0,y:0,z:0}}},this.json_arm_right_pose={ESPACO_NEUTRO:{up:{x:1.333,y:1.333,z:-1.333},lo:{x:0,y:.1333,z:0},wrist:{x:0,y:0,z:-1.33}},ORELHA:{up:{x:-1.33,y:0,z:0},lo:{x:0,y:2,z:0},wrist:{x:0,y:0,z:0}}}}var b=a.prototype;b.animation=function(a){this.up_arm.update(a),this.lo_arm.update(a),this.wrist.update(a)},b.update_pose=function(a,b,c,d){this.update_loc(d),this.update_wrist(a,b,c)},b.update_wrist=function(a,b,c){var d,e,f=c;"ORELHA"==this.loc?(d=a,e=b):(e=a,d=-b),"RIGHT"==this.direction?this.wrist.update_rotation(-d,e,-f):"LEFT"==this.direction&&this.wrist.update_rotation(d,e,f),this.up_arm.reset_animation(),this.lo_arm.reset_animation(),this.wrist.reset_animation()},b.update_loc=function(a){this.loc=a;var b;"RIGHT"==this.direction?b=this.json_arm_right_pose[this.loc]:"LEFT"==this.direction&&(b=this.json_arm_left_pose[this.loc]),this.update_arm(b.up,b.lo,b.wrist),this.up_arm.reset_animation(),this.lo_arm.reset_animation(),this.wrist.reset_animation()},b.update_arm=function(a,b,c){this.up_arm.set_rotation(a.x,a.y,a.z),this.lo_arm.set_rotation(b.x,b.y,b.z),this.wrist.set_rotation(c.x,c.y,c.z)},vj2.Arm_bones=a}(),this.vj2=this.vj2||{},function(){"use strict";function a(a,b,c,d){this.phalange1=new vj2.Animated_bone(a,1.5),this.phalange2=new vj2.Animated_bone(b,1.5),this.phalange3=new vj2.Animated_bone(c,1.5),this.phalange_list=[this.phalange1,this.phalange2,this.phalange3],this.direction=d}var b=a.prototype;b.close=function(a,b){var c=b,d=a;"RIGHT"==this.direction&&(d*=-1,c*=-1),this.phalange1.set_rotation(0,d,c),this.phalange2.set_rotation(0,0,c),this.phalange3.set_rotation(0,0,c),this.phalange_list.forEach(function(a){a.reset_animation()})},b.open=function(){this.phalange_list.forEach(function(a){a.set_rotation(0,0,0),a.reset_animation()})},b.animation=function(a){this.phalange_list.forEach(function(b){b.update(a)})},vj2.Finger=a}(),this.vj2=this.vj2||{},function(){"use strict";function a(a,b,c,d,e,f){this.thumb=a,this.index=b,this.middle=c,this.ring=d,this.pinky=e,this.direction=f,this.list_fingers=[this.thumb,this.index,this.middle,this.ring,this.pinky]}var b=a.prototype;b.open=function(){this.list_fingers.forEach(function(a){a.open()})},b.close=function(){this.index.close(.1,0),this.middle.close(0,0),this.ring.close(-.1,0),this.pinky.close(-.2,0)},b.rock=function(){var a=-1.256;this.index.close(.1,a),this.middle.close(0,a),this.ring.close(-.1,a),this.pinky.close(-.2,a)},b.animation=function(a){this.list_fingers.forEach(function(b){b.animation(a)})},b.set_shape=function(a){switch(a){case"MAO_FECHADA":this.close();break;case"MAO_ABERTA":this.open();break;case"PEDRA":this.rock()}},vj2.Hand=a}(),this.vj2=this.vj2||{},function(){"use strict";function a(a,b,c){this.arm_bones=b,this.hand=a,this.direction=c}var b=a.prototype;b.set_shape=function(a){this.hand.set_shape(a)},b.update=function(a,b,c,d){this.arm_bones.update_loc(d),this.arm_bones.update_wrist(a,b,c)},b.update_wrist=function(a,b,c){this.arm_bones.update_wrist(a,b,c)},b.animation=function(a){this.arm_bones.animation(a),this.hand.animation(a)},vj2.Upper_limbs=a}();